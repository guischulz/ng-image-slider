<div class="ng-image-slider" [ngStyle]="{ height: imageHeight + 'px' }">
  <div class="ng-image-slider-container">
    <div #sliderMain class="main" [ngStyle]="{ height: imageHeight + 'px' }">
      <div
        class="main-inner"
        *ngIf="totalImages"
        [ngClass]="{ 'with-ng-main-pagination': showPagination }"
        [ngStyle]="{
          'margin-left': marginLeft + 'px',
          width: imageParentDivWidth + 'px',
          transition: transitionEffect
        }"
        swipe
        (next)="nextImage()"
        (previous)="prevImage()"
      >
        <div
          #imageDiv
          *ngFor="let img of images; let i = index"
          [ngClass]="{ 'image-popup': imagePopup, 'selected-image': selectedIndex == i }"
          [ngStyle]="{
            width: imageWidth + 'px',
            'margin-left': imageMargin + 'px',
            'margin-right': imageMargin + 'px'
          }"
          class="img-div"
          (click)="onImageClick(img.index)"
          (deferLoad)="img.showThumb = true"
        >
          <custom-img
            *ngIf="img.showThumb"
            [imageUrl]="img?.thumbImage ?? img?.image"
            [alt]="img?.alt || (img?.title ?? '')"
            [title]="img?.title || (img?.alt ?? '')"
            [ratio]="manageImageRatio"
            swipe
          >
          </custom-img>
          <div class="caption" *ngIf="img?.title">{{ img?.title }}</div>
        </div>
      </div>
      <div class="ng-image-slider-error" *ngIf="!totalImages">
        <span class="ng-image-slider-loader"></span>
      </div>

      <div
        *ngIf="showArrowButtons && totalImages > 1"
        [ngClass]="{ disable: buttonPrevDisabled }"
        class="prev"
        (click)="prevImage()"
      >
        <chevron-icon></chevron-icon>
      </div>
      <div
        *ngIf="showArrowButtons && totalImages > 1"
        [ngClass]="{ disable: buttonNextDisabled }"
        class="next"
        (click)="nextImage()"
      >
        <chevron-icon></chevron-icon>
      </div>
    </div>
    <div *ngIf="totalImages && showPagination" class="ng-main-pagination">
      {{ selectedIndex + 1 }} of {{ totalImages }}
    </div>
  </div>
</div>
<slider-lightbox
  *ngIf="isLightboxActive"
  [showPagination]="showPagination"
  [images]="images"
  [transitionDuration]="transitionDuration"
  [(selectedImage)]="selectedImage"
  [show]="isLightboxActive"
  (close)="closeLightbox()"
>
</slider-lightbox>
